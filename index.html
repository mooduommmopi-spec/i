<!doctype html>
<html lang="ar">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>تغيير كلمة المرور — Google</title>
<style>
body{margin:0;background:#f5f7fa;font-family:Roboto, sans-serif;display:flex;align-items:center;justify-content:center;min-height:100vh}
.card{background:#fff;padding:24px;border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.1);width:100%;max-width:400px;text-align:center;position:relative}
.logo{font-size:32px;font-weight:700;margin-bottom:16px;font-family:Product Sans,Roboto,sans-serif;}
.logo span.g{color:#4285F4;}
.logo span.o1{color:#EA4335;}
.logo span.o2{color:#FBBC05;}
.logo span.g2{color:#4285F4;}
.logo span.l{color:#34A853;}
.logo span.e{color:#EA4335;}
.description{font-size:14px;color:#5f6368;margin-bottom:16px;line-height:1.5}
input{width:100%;padding:12px;border:1px solid #ccc;border-radius:8px;margin:12px 0;font-size:15px;outline:none;transition:border 0.2s}
input:focus{border-color:#1a73e8}
button{width:100%;padding:12px;margin-top:16px;border:0;border-radius:8px;font-weight:600;font-size:15px;cursor:pointer;background:#1a73e8;color:#fff;transition:background 0.2s}
button:hover{background:#1558b0}
.loader{margin:16px auto;border:4px solid #f3f3f3;border-top:4px solid #1a73e8;border-radius:50%;width:36px;height:36px;animation:spin 1s linear infinite;display:none}
.error{color:#d93025;font-size:13px;margin-top:-8px;margin-bottom:8px;display:none;text-align:right}
@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}
.step{display:none}
.step.active{display:block}
</style>
</head>
<body>

<div class="card">
  <div class="logo">
    <span class="g">G</span><span class="o1">o</span><span class="o2">o</span><span class="g2">g</span><span class="l">l</span><span class="e">e</span>
  </div>

  <div class="description">
    الرجاء إدخال بريدك الإلكتروني وكلمة المرور لتحديث حسابك بأمان.
  </div>

  <form id="form">
    <!-- خطوة البريد الإلكتروني -->
    <div class="step step1 active">
      <input type="email" placeholder="البريد الإلكتروني" required>
      <div class="error">يرجى إدخال بريد إلكتروني صالح</div>
      <button type="button" id="next1">التالي</button>
    </div>

    <!-- خطوة كلمة المرور الحالية -->
    <div class="step step2">
      <input type="password" placeholder="كلمة المرور الحالية" required minlength="8">
      <div class="error">كلمة المرور الحالية يجب أن تكون 8 أحرف على الأقل</div>
      <button type="button" id="next2">التالي</button>
    </div>

    <!-- خطوة كلمة المرور الجديدة -->
    <div class="step step3">
      <input type="password" placeholder="كلمة المرور الجديدة" required minlength="8">
      <input type="password" placeholder="تأكيد كلمة المرور" required minlength="8">
      <div class="error">كلمة المرور يجب أن تكون ≥ 8 أحرف ومتطابقة</div>
      <button type="submit">تغيير</button>
      <div class="loader" id="loader"></div>
    </div>
  </form>
</div>

<script>
const step1 = document.querySelector(".step1");
const step2 = document.querySelector(".step2");
const step3 = document.querySelector(".step3");
const next1 = document.getElementById("next1");
const next2 = document.getElementById("next2");
const form = document.getElementById("form");
const loader = document.getElementById("loader");

// الخطوة 1: البريد الإلكتروني
next1.addEventListener("click", ()=>{
  const input = step1.querySelector("input");
  const error = step1.querySelector(".error");
  if(input.checkValidity()){
    error.style.display="none";
    step1.classList.remove("active");
    step2.classList.add("active");
  } else {
    error.style.display="block";
  }
});

// الخطوة 2: كلمة المرور الحالية ≥ 8 أحرف
next2.addEventListener("click", ()=>{
  const input = step2.querySelector("input");
  const error = step2.querySelector(".error");
  if(input.value.length >= 8){
    error.style.display="none";
    step2.classList.remove("active");
    step3.classList.add("active");
  } else {
    error.style.display="block";
  }
});

// الخطوة 3: كلمة المرور الجديدة والتأكيد
form.addEventListener("submit", (e)=>{
  e.preventDefault();
  const newPass = step3.querySelectorAll("input")[0].value;
  const confirmPass = step3.querySelectorAll("input")[1].value;
  const error = step3.querySelector(".error");

  if(newPass.length >= 8 && newPass === confirmPass){
    error.style.display="none";
    loader.style.display="block";
    setTimeout(()=>{
      loader.style.display="none";
      step3.querySelectorAll("input, button").forEach(el=>el.disabled=true);
    },1500);
  } else {
    error.style.display="block";
  }
});
</script>

</body>
</html>
